# CH 5. 객체

## 5-1. 객체(Object)의 기본정의

자바스크립트는 객체기반의 스크립트 언어이며 자바스크립트를 이루고 있는 거의 모든 것들이 객체로 존재한다.

### 5-1-1. __proto__프로퍼티

자바스크립트 객체는 프로토타입(prototype), 즉 자신이 상속한 객체를 참조하기 위해 내부에 [[prototype]] 프로퍼티를 둔다.
[[prototype]]을 직접 읽거나 수정할 수 없는 이유로 이 값을 읽으려면 Object.getPrototypeOf() 메소드를 이용하고,
동일한 [[prototype]]으로 새 객체를 생성하려면 Object.create() 메소드를 이용해야만 했다.

[[prototype]]는 다루기 까다로운 프로퍼티라서 일부 브라우저는 __proto__라는 특별한 프로퍼티를 객체에 두어 밖에서도 접근할 수 있게 하고 덕분에 한결 프로토타입을 다루기 수월해졌다. 
이렇게 ES5까지 정식 표준이 아니었던 __proto__프로퍼티는 워낙 많이 쓰이다 보니 드디어 ES6에서 표준이 되었다.

```js
// es5
var x = {x: 12};
var y = Object.create(x, {y: {value: 13}});

console.log(y.x); // 12
console.log(y.y); // 13
```

```js
// es6
let a = {a: 12, __proto__: {b: 13}};

console.log(a.a); // 12
console.log(a.b); // 13
```

- Object.getPrototypeOf() 메소드 : 지정된 객체의 프로토타입(가령 내부 [[Prototype]] 속성값)을 반환
- Object.create() 메소드 : 지정된 프로토타입 객체 및 속성(property)을 갖는 새 객체를 생성

```js
var proto = {};
var obj = Object.create(proto);
Object.getPrototypeOf(obj) === proto; // true
```

*주의 : ES5에서, obj 매개변수가 객체가 아닌 경우 TypeError 예외가 발생합니다. ES6에서, 매개변수는 Object로 강제됩니다.

```js
// es5 code
Object.getPrototypeOf("foo"); // TypeError

// es6 code
Object.getPrototypeOf("foo"); // String.prototype
```

[https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf]




--------------



```js
// es5 code
Object.getPrototypeOf("foo"); // String

var proto = {};
var obj = Object.create(proto);
Object.getPrototypeOf(obj); // Object

// es6 code
Object.getPrototypeOf("foo"); // Object
```



### 5-1-2. Object.create() 메소드
지정된 프로토타입 객체 및 속성(property)을 갖는 새 객체를 만듭니다.

```js
var x = {x: 12};
var y = Object.create(x, {y: {value: 13}});

console.log(y.x); // 12
console.log(y.y); // 13
```
